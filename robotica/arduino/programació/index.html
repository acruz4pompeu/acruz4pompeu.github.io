<html>
  <head>
    
  </head>
  <body>
    <h1>
     Funcions en arduino 
      
    </h1>
    <p>
      Les funcions de arduino són semblants a les funcions que veiem a cinemàtica directa i inversa. En el cas de cinemàtica
      robòtica utilitzavem funcions Javascript dintre d'un codi Html. Abans cada funció com per exemple, calculatePosition ()
      era una funció sense arguments o parametres que estava identificada amb un bloc de codi anomenat function i s'executava
      quan clicavem un botó. Dintre d'aquest bloc hi havien instruccions que permetien fer càlculs matemàtics.En el seguent codi 
      d'arduino, tenim una funció flash amb dos parametres que eres números enters anomenat ledPin i de delayPeriod que identifiquen
      el pin que està connectat i el temps que ha d'estar encès o apagat.
      
      
      
    </p>
    <pre>
      <code>
// 03_03_blink_functrion_params

const int ledPin = 13;
const int delayPeriod = 250;

void setup() {
  pinMode(ledPin, OUTPUT);
}

void loop() {
  flash(20, delayPeriod);
  delay(3000);
}

void flash(int numFlashes, int d) {
  for (int i = 0; i &lt; numFlashes; i ++) {
    digitalWrite(ledPin, HIGH);
    delay(d);
    digitalWrite(ledPin, LOW);
    delay(d);
  }
}
        
      </code>
    </pre>
    <p>
      Ara farem que un bucle for s'executi nomes 20 o x vegades dintre d'un bucle for localitzat
      dintre d'un bucle infinit loop. Ho aconseguim amb la paraula clau static, que fa que una variable
      s'inicialitzi una vegada que serà la primera vegada que correm el codi i mai més. La paraula
      static es deriva del llenguatge C i arduino es un derivat de C++ i processing. Si eliminem
      només la paraula static del codi segent, s'executara infinites vegades. Aixi aconseguim dins 
      la funció loop controlar el número de execucions, també o podriem aplicar a altres funcions.
      </p>
    <h1>
      Arrays i strings
    </h1>
<p>
  Un array es una forma de contenir un llistat de valors, moltes vegades són valors enters i s'accedeix amb 
  ells per la seva posició, sent la primera posició [0] del array o element 0. El codi seguent el que fà es a la primera
  linea defineix una array amb 9 valors, els imprimeix en el montior serie el seus valors. Serà útil pel nostre codi morse.
  </p>
    <pre>
      <code>
         int durations[] = {200, 200, 200, 500, 500, 500, 200, 200, 200};

void setup() {
  Serial.begin(9600);  
  for (int i = 0; i < 9; i++) {
    Serial.println(durations[i]);
  }
}

void loop() 
      </code>
    </pre>
<p>
  El codi seguent ja es un codi morse perque combina una array, un bucle for que llegeix el array i l'aplica a la funció flash, d'aquesta 
  forma es com si escrivis flash(200), flash(200),flash(200),flash(500),flash(500),flash(500),flash(200),flash(200)
</p>
    
  </body>
</html>
